        <table>
            <tr>
                <th>Count</th>
                <th>Type</th>
            </tr>
% for my $i (@data) {
                <tr class="<% ++$c%2==0?'even':'odd' %>">
                    <td class="numeric"><% $i->[2] %>% (<% $i->[1] %>)</td>
                    <td><% $i->[0] %></td>
                </tr>
% }
        </table>
        
<%init>
my $ds;
my $ws;

if (defined($sid)) {
    $ds = $zs->present->dbx('Testrun')->find($sid);
    $m->abort(404) unless defined($ds);
    $ws = $ds->tests->search_related('tested_domain',{})->search_related('webservers',{});
} else {
    $ws = $zs->present->dbx('Webserver');
}

my $total = $ws->search({https => $https})->count;
my @data  = map {[$_->[0], $_->[1], sprintf('%5.2f', 100*$_->[1]/$total)]}
    $zs->present->number_of_servers_with_software($https, $ds);
my $c;
</%init>
<%args>
$https => 0
$sid => undef
</%args>