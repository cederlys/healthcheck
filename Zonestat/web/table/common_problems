        <table>
            <tr>
                <th>Error</th>
% foreach my $i (@ds) {
                <th><% $i->domainset->name %> <br><% $i->name %></th>
%}
            </tr>
% for my $k (@keys) {
                <tr class="<% ++$c%2==0?'even':'odd' %>">
                    <td><% $k %></td>
% foreach my $i (@ds) {
                    <td class="numeric"><% sprintf '%0.2f', 100*($data{$k}{$i->id}/$i->tests->count) %>%</td>
% }
                </tr>
% }
            <tr>
                <th colspan="8"><a href="/csv/common_problems<% ((@sid>0) ? $sidstring : "") %>">CSV file</a></th>
            </tr>
        </table>
        
<%init>
my @ds;
my $total;

foreach my $s (@sid) {
    push @ds, $zs->present->dbx('Testrun')->find($s) or $m->abort(404);
}

my %data  = $zs->present->number_of_domains_with_message('ERROR',@ds);
my @keys = sort {$data{$b}{$ds[0]->id} <=> $data{$a}{$ds[0]->id}} keys %data;

my $sidstring = '?';
$sidstring .= join('&', map {"sid=$_"} @sid);

my $c;
</%init>
<%args>
@sid
</%args>